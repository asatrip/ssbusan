<style>
  :root {
    --site-width: 851px;
  }


  
  header {
    background-color: <%= setting.headerBackgroundColor %>;
    
  }

  header #toggleBtn,
  header #alarmBtn,
  header #alarmBtn a {
    color: <%= setting.headerFontColor %>;
  }

  @media (min-width: 851px) {
    header #main {
      background-color: <%= setting.headerBackgroundColor %>;
    }

    header #main .logo img {
      width: <%= setting.logoImageDesktopSize %>px;
    }

    header #main nav > .main > li:hover > a {
      color: <%= setting.pointColor %>;
    }

    #banner .sticky {
      top: 90px;
    }
  }

  @media (max-width: 850px) {
    header #main .logo img {
      width: <%= setting.logoImageMobileSize %>px;
    }

    header #main nav > .main > li > a:hover,
    header #main nav > .main > li > ul > li > a:hover {
      background-color: <%= setting.pointColor %>;
    }
  }
</style>
<header>
  <div id="toggleBtn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path
        fill="currentColor"
        d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"
      />
    </svg>
  </div>
  <div id="sub1">
    <ul>
      <% if (locals.user && locals.user.permission >= 10) { %>
      <!-- <li><a href="/admin">ê´€ë¦¬ì |</a></li> -->
      <!-- <li class="slash">|</li> -->
      <% } %> <% if (locals.user) { %>
        <li><a href="/">í™ˆ</a></li>
        <li class="slash">|</li>
        <li><a href="/drive">ë°”ë¦¬ì½”ìŠ¤</a></li>
        <li class="slash">|</li>
        <li><a href="/bikecafe">ë¼ì´ë”ì¹´í˜</a></li>
        <li class="slash">|</li>
        <li><a href="/shop">Shop</a></li>
        <li class="slash">|</li>
        <li><a href="/center">ì •ë¹„</a></li>
        <li class="slash">|</li>
        <li><a href="/short">ìˆì¸ </a></li>
      <li class="slash">|</li>
      <li><a href="/gall">ê°¤ëŸ¬ë¦¬</a></li>
      
      

      <!-- <li class="slash">|</li>
      <li><a href="/feel">íë§</a></li> -->

      <% } else { %>
        <li><a href="/">í™ˆ</a></li>
        <li class="slash">|</li>
        <li><a href="/drive">ë°”ë¦¬ì½”ìŠ¤</a></li>
        <li class="slash">|</li>
        <li><a href="/bikecafe">ë¼ì´ë”ì¹´í˜</a></li>
        <li class="slash">|</li>
        <li><a href="/shop">Shop</a></li>
        <li class="slash">|</li>
        <li><a href="/center">ì •ë¹„</a></li>
        <li class="slash">|</li>
        <li><a href="/short">ìˆì¸ </a></li>
      <li class="slash">|</li>
      <li><a href="/gall">ê°¤ëŸ¬ë¦¬</a></li>
      
      
      <!-- <li class="slash">|</li>
      <li><a href="/massage">ë§ˆì‚¬ì§€</a></li> -->
      <!-- <li class="slash">|</li>
      <li><a href="/feel">íë§</a></li> -->
      <!-- <li class="slash">|</li>
      <li><a href="/feel">íë§</a></li> -->

      
      <!-- <li class="slash">|</li> -->
      <!-- <li class="slash">|</li> -->
      <% } %>
    </ul>
  </div>
    <div id="sub2">
      <ul>
        <% if (locals.user && locals.user.permission >= 10) { %>
        <!-- <li><a href="/admin">ê´€ë¦¬ì |</a></li> -->
        <!-- <li class="slash">|</li> -->
        <% } %> <% if (locals.user) { %>
        <li><a href="/">í™ˆ</a></li>
          <li class="slash">|</li>
          <li><a href="/drive">ë°”ë¦¬ì½”ìŠ¤</a></li>
          <li class="slash">|</li>
          <li><a href="/bikecafe">ë¼ì´ë”ì¹´í˜</a></li>
          <li class="slash">|</li>
          <li><a href="/shop">Shop</a></li>
          <li class="slash">|</li>
          <li><a href="/center">ì •ë¹„</a></li>
          <li class="slash">|</li>
          <li><a href="/short">ìˆì¸ </a></li>
        <li class="slash">|</li>
        <li><a href="/gall">ê°¤ëŸ¬ë¦¬</a></li>
        

        <% } else { %>
          <li><a href="/">í™ˆ</a></li>
          <li class="slash">|</li>
          <li><a href="/drive">ë°”ë¦¬ì½”ìŠ¤</a></li>
          <li class="slash">|</li>
          <li><a href="/bikecafe">ë¼ì´ë”ì¹´í˜</a></li>
          <li class="slash">|</li>
          <li><a href="/shop">Shop</a></li>
          <li class="slash">|</li>
          <li><a href="/center">ì •ë¹„</a></li>
          <li class="slash">|</li>
          <li><a href="/short">ìˆì¸ </a></li>
        <li class="slash">|</li>
        <li><a href="/gall">ê°¤ëŸ¬ë¦¬</a></li>
        
        
      </div>
  
        <% } %>
      </ul>
      <!-- <li><a href="/materials">ğŒğšğ­ğğ«ğ¢ğšğ¥ğ¬</a></li> -->
      <!-- <li><a href="/mini">ğ’ğ–’ğ–†ğ–‘ğ–‘</a></li> -->
      <!-- <li class="slash">|</li>
      <li><a href="/market">ì¥í„°</a></li> -->

      <!-- <li><a href="/best/rank">Mymenu</a></li> -->
      <!-- <li class="slash">|</li> -->
      <!-- <li><a href="/join">íšŒì›ê°€ì…</a></li>
      <li class="slash">|</li>
      <li><a href="/login">ë¡œê·¸ì¸</a></li> -->
      <!-- <li><a href="/">ğ‡ğ–”ğ–’ğ–Š</a></li>
      <li class="slash">|</li>
<li><a href="/news">ğˆğ¬ğ¬ğ®ğ</a></li> -->
      <!-- <li class="slash">|</li> -->

    

      <!-- <li><a href="/market">ğŒğ–†ğ–—ğ¤ğ–Šğ–™</a></li> -->
      <!-- <li><a href="/mini">ğ’ğ–’ğ–†ğ–‘ğ–‘</a></li> -->
      <!-- <li class="slash">|</li> -->
      <!-- <li><a href="/market">ì¥í„°</a></li> -->
      
  </div>
  <div id="sub3"></div>
  <div id="alarmBtn">
    <a href="/alarm"
      ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path
          fill="currentColor"
          d="M256 32V49.88C328.5 61.39 384 124.2 384 200V233.4C384 278.8 399.5 322.9 427.8 358.4L442.7 377C448.5 384.2 449.6 394.1 445.6 402.4C441.6 410.7 433.2 416 424 416H24C14.77 416 6.365 410.7 2.369 402.4C-1.628 394.1-.504 384.2 5.26 377L20.17 358.4C48.54 322.9 64 278.8 64 233.4V200C64 124.2 119.5 61.39 192 49.88V32C192 14.33 206.3 0 224 0C241.7 0 256 14.33 256 32V32zM216 96C158.6 96 112 142.6 112 200V233.4C112 281.3 98.12 328 72.31 368H375.7C349.9 328 336 281.3 336 233.4V200C336 142.6 289.4 96 232 96H216zM288 448C288 464.1 281.3 481.3 269.3 493.3C257.3 505.3 240.1 512 224 512C207 512 190.7 505.3 178.7 493.3C166.7 481.3 160 464.1 160 448H288z"
        /></svg
    >
    <% newAlarms = locals.alarms?.filter(alarm => alarm.status === 1) %> <% if
    (newAlarms?.length) { %>
    <div class="count"><%= newAlarms.length %></div>
    <% } %></a>
  </div>
  <section id="sub">
    <div class="wrap">
      
      <ul>
        <!-- <li class="slash">|</li>

        <li><a href="/">ì²«í˜ì´ì§€</a></li>
        <li class="slash">|</li> -->
        <!-- <li><a href="/best/week">ì¸ê¸°ê¸€</a></li>
        <li class="slash">|</li> -->
        <!-- <li><a href="#" id="toggleTheme"><%= locals.userThemeReverseKorean %></a></li> -->
      </ul>
      <ul>
        <% if (locals.user && locals.user.permission >= 10) { %>
    
          <li><a href="/admin" target="blank">ê´€</a></li>
        <li class="slash">|</li>
        <% } %> <% if (locals.user) { %>
        <!-- <li><%= locals.user.nickName %></li>
        <li class="slash">|</li> -->
        <li><a href="/mypage"><%= locals.user.nickName %></a></li>
        <li class="slash">|</li>

        <li><a href="/check">ì¶œì²µ</a></li>
        <li class="slash">|</li>
          <li><a href="/rank">ë­í‚¹</a></li>
          <li class="slash">|</li>
          <li><a href="/mypage/point">í¬ì¸íŠ¸</a></li>
          <li class="slash">|</li>
          <li><a href="/message/send">ìª½ì§€</a></li>
        
        <li class="slash">|</li>
        <li><a href="/notice">ê³µì§€</a></li>
        
        <li class="slash">|</li>
        <li><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
        <% } else { %>
        <li><a href="/join">íšŒì›ê°€ì…</a></li>
        <li class="slash">|</li>
        <li><a href="/login">ë¡œê·¸ì¸</a></li>
        <% } %>
      </ul>
    </div>
  </section>
  <section id="main">
    <div class="wrap">
    <!-- <div class="logo">
        <% if (setting.logoType === 'text') { %>
        <a href="/"><%= setting.siteNameRaw %></a>
        <% } else if (setting.logoType === 'image') { %>
        <a href="/"
          ><img
            src="<%= storage %>/assets/<%= setting.logoImage %>"
            alt="<%= setting.siteNameRaw %>"
        /></a>
        <% } %>
      </div>  -->
      <nav>
        <ul class="mypage">
          <% if (locals.user && locals.user.permission >= 10) { %>
          <li><a href="/admin" target="blank">ê´€</a></li>
          <li class="slash">|</li>
          <% } %> <% if (locals.user) { %>
          <li><a href="/mypage"><%= locals.user.nickName %></a></li>
          <li class="slash">|</li>
          <li><a href="/check">ì¶œì²µ</a></li>
          <li class="slash">|</li>
            <li><a href="/rank">ë­í‚¹</a></li>
            <li class="slash">|</li>
            <li><a href="/mypage/point">í¬ì¸íŠ¸</a></li>
            <li class="slash">|</li>
            <li><a href="/message/send">ìª½ì§€</a></li>
        
            <li class="slash">|</li>
            <li><a href="/notice">ê³µì§€</a></li>
        
            <li class="slash">|</li>
          <!-- <li><a href="/mypage">ë§ˆì´í˜ì´ì§€</a></li> -->
          <!-- <li class="slash">|</li> -->
          <!-- <li><a href="/message">ìª½ì§€</a></li>
          <li class="slash">|</li> -->
          <li><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
          <% } else { %>
          <li><a href="/join">íšŒì›ê°€ì…</a></li>
          <li class="slash">|</li>
          <li><a href="/login">ë¡œê·¸ì¸</a></li>
          <% } %>
        </ul>
        <ul class="main">
          <% locals.menus.forEach(menu => { %>
          <li>
            <a href="/<%= menu.target %>"><%= menu.title %></a>
            <% if (menu.subMenus.length) { %>
            <ul>
              <% menu.subMenus.forEach(subMenu => { %>
              <li><a href="/<%= subMenu.target %>"><%= subMenu.title %></a></li>

              <% }) %>
            </ul>

            <% } %>
          </li>
          <% }) %>
        </ul>
      </nav>
    </div>
    <div id="alarmBtn1">
      <a href="/alarm"
        ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path
            fill="currentColor"
            d="M256 32V49.88C328.5 61.39 384 124.2 384 200V233.4C384 278.8 399.5 322.9 427.8 358.4L442.7 377C448.5 384.2 449.6 394.1 445.6 402.4C441.6 410.7 433.2 416 424 416H24C14.77 416 6.365 410.7 2.369 402.4C-1.628 394.1-.504 384.2 5.26 377L20.17 358.4C48.54 322.9 64 278.8 64 233.4V200C64 124.2 119.5 61.39 192 49.88V32C192 14.33 206.3 0 224 0C241.7 0 256 14.33 256 32V32zM216 96C158.6 96 112 142.6 112 200V233.4C112 281.3 98.12 328 72.31 368H375.7C349.9 328 336 281.3 336 233.4V200C336 142.6 289.4 96 232 96H216zM288 448C288 464.1 281.3 481.3 269.3 493.3C257.3 505.3 240.1 512 224 512C207 512 190.7 505.3 178.7 493.3C166.7 481.3 160 464.1 160 448H288z"
          />
        </svg>
        <% newAlarms = locals.alarms?.filter(alarm => alarm.status === 1) %> <%
        if (newAlarms?.length) { %>
        <div class="count"><%= newAlarms.length %></div>
        <% } %>
      </a>
    </div>
  </section>
</header>

<script>
  const header = document.querySelector("header");
  const subHeight = header.querySelector("#sub").clientHeight;
  const main = header.querySelector("#main");
  const mainHeight = header.querySelector("#main").clientHeight;
  const headerHeight = subHeight;

  window.addEventListener("scroll", () => {
    if (window.pageYOffset > subHeight) {
      main.classList.add("hover");
      header.style.marginBottom = `${subHeight + 20}px`;
    } else {
      main.classList.remove("hover");
      header.style.marginBottom = "unset";
    }
  });

  const navContainer = document.querySelector("header nav");
  const toggleBtn = document.querySelector("#toggleBtn");

  toggleBtn.addEventListener("click", () => {
    navContainer.classList.toggle("active");
  });
</script>
